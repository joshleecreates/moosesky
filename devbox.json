{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.13.7/.schema/devbox.schema.json",
  "packages": [
    "python312",
    "nodejs_20",
    "pnpm"
  ],
  "shell": {
    "init_hook": [
      "echo 'Setting up moosestack development environment...'",
      "",
      "# Verify installations",
      "echo ''",
      "echo 'Environment versions:'",
      "python --version",
      "node --version",
      "pnpm --version",
      "docker --version",
      "",
      "echo ''",
      "echo 'Development environment ready!'",
      "echo 'Run \"devbox run install\" to install dependencies'",
      "echo 'Then run \"devbox run dev\" to start the development environment'"
    ],
    "scripts": {
      "install": "pnpm install",
      "dev": "pnpm dev",
      "dev:moose": "pnpm dev:moose",
      "dev:web": "pnpm dev:web",
      "build": "pnpm --filter moosestack-service moose build",
      "logs": "pnpm --filter moosestack-service moose logs",
      "clean": "docker compose down -v",
      "workflow": "pnpm --filter moosestack-service moose workflow run $1",
      "workflow:cancel": "pnpm --filter moosestack-service moose workflow cancel $1"
    }
  },
  "env": {
    "DOCKER_HOST": "unix:///var/run/docker.sock"
  }
}
